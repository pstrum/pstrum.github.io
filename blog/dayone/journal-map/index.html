<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Peter Strumolo | Personal Portfolio</title>
    <meta name="description" content="Learn about what I have done and the tools I use">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Place favicon.ico in the root directory -->

    <link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,300italic,100,600,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/main.css">
    <style>
      #journal-map {
        height: 100%;
      }
      main {
        height: 100%;
      }
      .post {
        height: 100%;
      }
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      h1 {
        padding-top: 1rem;
        padding-bottom: 1rem;
      }
    </style>
  </head>
  <body class="dayone">
    <main>
      <section class="post">
        <h1>Journal Map</h1>
        <figure id="journal-map" class="dayone-map"></figure>
      </section>
    </main>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script>window.jQuery || document.write('<script src="/js/vendor/jquery-2.2.2.min.js"><\/script>')</script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBqmF71sk9AOaG3lfdKJlwyB81plCq6onk&callback=initMap"></script>
    <script src="/js/markerclusterer.js"></script>
    <script>
      function initMap() {
        var locations = [
          {
            location: {
              lat: 47.613257,
              lng: -122.3335307
            },
            entryUrl: 'ulysses://x-callback-url/open?id=-IPMcBmJTmgG5Uhv9hrCng'
          }
        ];
        var bounds = new google.maps.LatLngBounds();
        var map = new google.maps.Map(document.getElementById('journal-map'));
        map.setCenter(bounds.getCenter());
        var markers = locations.map(function(location, i) {
          var entry = '<a href="' + location.entryUrl + '">Entry</a>';
          var infoWindow = new google.maps.InfoWindow({
            content: entry
          });
          var marker = new google.maps.Marker({
            position: location.location,
            label: '1'
          });
          marker.addListener('click', function() {
            infoWindow.open(map, marker);
          });

          return marker;
        });
        var markerCluster = new MarkerClusterer(map, markers, {
          imagePath: '/images/m'
        });
      }
    </script>
    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
        function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='https://www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X','auto');ga('send','pageview');
    </script>
  </body>
</html>
